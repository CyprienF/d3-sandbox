<html>
	<head>
		<title>D3 sandbox</title>
		<script src="https://d3js.org/d3.v7.min.js"></script>
		<style>
			.labels {
				text-anchor: end;
			}
		</style>
	</head>

	<body>
		<svg width="1000" height="400">
			<g class="labels" transform="translate(75, 22)"></g>
			<g class="bars" transform="translate(80, 10)"></g>
		</svg>
	</body>

	<script>
		const cities = [
			{ id: 1, city: 'Lyon', population: 100000 },
			{ id: 2, city: 'Londres', population: 400000 },
			{ id: 3, city: 'New-York', population: 800000 }
		];

		d3.select('.bars')
			.selectAll('rect')
			.data(cities)
			.join('rect')
			.attr('y', (d, i) => i * 16)
			.attr('width', d => 0.0005 * d.population)
			.attr('height', 15)
			.style('fill', 'steelblue')

		d3.select('.labels')
			.selectAll('text')
			.data(cities)
			.join('text')
			.attr('y', (d, i) => i * 16)
			.text(d => d.city);
	</script>

</html>